$(document).ready(function () { $(".tree > ul").attr("role", "tree").find("ul").attr("role", "group"), $(".tree").find("li:has(ul)").addClass("parent_li").attr("role", "treeitem").find(" > span").prepend("<i class='fa fa-lg fa-plus-circle'></i>  ").attr("title", "Collapse this branch").on("click", function (e) { var e = $(this); var t = e.parent("li.parent_li").find(" > ul > li"); t.is(":visible") ? (t.hide("fast"), e.attr("title", "Expand this branch").find(" > i").addClass("fa-plus-circle").removeClass("fa-minus-circle")) : (t.show("fast"), e.attr("title", "Collapse this branch").find(" > i").addClass("fa-minus-circle").removeClass("fa-plus-circle")); }); });